List p=18f4520
    #include<p18f4520.inc>
	CONFIG OSC = INTIO67
	CONFIG WDT = OFF
	org 0x00
	
	MOVLB 0X01
	
	MOVLW 0XB5
	MOVWF 0X00, 1
	MOVLW 0XF8
	MOVWF 0X01, 1
	MOVLW 0X64
	MOVWF 0X02, 1
	MOVLW 0X7F
	MOVWF 0X03, 1
	MOVLW 0XA8
	MOVWF 0X04, 1
	MOVLW 0X15
	MOVWF 0X05, 1
	
	LFSR 0, 0X100; PIVOT
	LFSR 1, 0X100 ; LEFT 
	LFSR 2, 0X105 ; RIGHT
	
	OUTER_LOOP:
	MAX_LOOP:
	MOVFF POSTINC0, 0X120
	MOVFF 0X120, WREG
	CPFSLT INDF0, W
	    GOTO MAX_LOOP
	MOVFF POSTDEC0, WREG
	MOVWF POSTINC0
	MOVFF 0X120, INDF0
	MOVFF INDF0, WREG
	CPFSEQ INDF2, W
	    GOTO MAX_LOOP
	    
	MOVFF POSTDEC2, 0X00
	
	MIN_LOOP:
	MOVFF FSR0L, WREG
	CPFSLT FSR1L
	    GOTO MOVE
	MOVFF POSTDEC0, 0X120
	MOVFF 0X120, WREG
	CPFSGT INDF0, W
	    GOTO MIN_LOOP
	MOVFF POSTINC0, WREG
	MOVWF POSTDEC0
	MOVFF 0X120, INDF0
	MOVFF FSR0L, WREG
	CPFSEQ FSR1L, W
	    GOTO MIN_LOOP
	MOVFF POSTINC1, 0X00
	
	MOVFF FSR1L, WREG
	CPFSEQ FSR2L
	    GOTO OUTER_LOOP
	    
	MOVE:
	LFSR 0, 0X100
	LFSR 1, 0X110
	
	MOVFF POSTINC0, POSTINC1
	MOVFF POSTINC0, POSTINC1
	MOVFF POSTINC0, POSTINC1
	MOVFF POSTINC0, POSTINC1
	MOVFF POSTINC0, POSTINC1
	MOVFF POSTINC0, POSTINC1
	
	
	END

