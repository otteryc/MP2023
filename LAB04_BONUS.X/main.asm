List p=18f4520
    #include<p18f4520.inc>
	CONFIG OSC = INTIO67
	CONFIG WDT = OFF
	org 0x00
	
	LOAD_BYTE MACRO DES, LITERAL
	MOVLW LITERAL
	MOVWF DES
	ENDM
	
	; ??? 0X80
	MUL MACRO UP, LOW, M
	MOVFF UP, 0X80
	MOVFF LOW, 0X81
	MOVF 0X81, 0
	MULWF M
	MOVFF PRODH, UP
	MOVFF PRODL, LOW
	MOVF 0X80, 0
	MULWF M
	MOVF PRODL, 0
	ADDWF UP
	ENDM
	
	ADD MACRO UPD, LOWD, UP, LOW
	    MOVF LOW, 0
	    ADDWF LOWD
	    MOVF UP, 0
	    ADDWFC UPD
	    BCF STATUS, 0
	ENDM
	
	INIT:
	LOAD_BYTE 0X10, 0X05
	LOAD_BYTE 0X11, 0X03
	MOVF 0X11
	SUBWF 0X10, 0
	MOVWF 0X12  ; 0X10 = N, 0X11 = K, 0X12 = N - K
	GOTO MAIN
	
	; ??? 0X50, 0X60
	Fact:
	CLRF 0X50
	CLRF 0X51
	MOVFF 0X10, 0X52
	MOVFF 0X10, 0X51
	DECF 0X52
	LOOP:
	    MUL 0X50, 0X51, 0X52
	    DECF 0X52
	    MOVF 0X52, 0
	    CPFSEQ 0X13
		GOTO LOOP
	    NOP
        NOP
	
	CLRF 0X60
	CLRF 0X63
	MOVFF 0X14, 0X61
	MOVFF 0X14, 0X62
	DECF 0X62
	K_LOOP:
	    MUL 0X60, 0X61, 0X62
	    DECFSZ 0X62
		GOTO K_LOOP
	    NOP
	
	MOVFF 0X60, 0X68
	MOVFF 0X61, 0X69
	LOAD_BYTE 0X00, 0X01
	LOAD_BYTE 0X71, 0X0
	
	DIVISION:
	CLRF 0X70
	MOVF 0X60, 0
	CPFSEQ 0X50
	    BSF 0X70, 1
	NOP
	MOVF 0X61, 0
	CPFSEQ 0X51
	    BSF 0X70, 0
	NOP
	
	MOVF 0X70, 0
	CPFSLT 0X71
	    RETURN
	NOP
	ADD 0X60, 0X61, 0X68, 0X69
	INCF 0X00
	GOTO DIVISION
	
	MAIN:
	MOVF 0X11, 0
	MOVWF 0X13
	CPFSEQ 0X12
	    MOVFF 0X12, 0X13; 0X13 > 0X14
	NOP
	MOVF 0X13, 0
	SUBWF 0X10, 0
	MOVWF 0X14
	; 0X10 N 0X13 ?? 0X14 ??
	
	NOP
	RCALL Fact
	NOP
	END
	
	
	
	
	
	


